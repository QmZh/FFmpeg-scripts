### [English README](README2.md)

批量压缩/转码某一文件夹下面的视频。

## 用途
[ffget-vid-info.ps1](ffget-vid-info.ps1)，获得视频信息

[ffrecode-av1-batch.ps1](ffrecode-av1-batch.ps1)，进行重编码，目前需要和[ffrecode-av1.bat](ffrecode-av1.bat)一块使用，之后准备重写一下变成纯粹的ps1脚本


## 其它

如果你有40代N卡，可以直接使用。

我下载了一些B站直播录播，所以文件基本上是flv格式，不过参数可以指定任意一种格式或所有格式（对-type参数使用“*”即可），之后会尝试接受多种格式（需要能接受任意数量的参数）。录播很占空间，所以转码/压缩很有必要。我的观察是，视频分辨率越大，压缩的时候选择比较低的清晰度时（nvenc_av1编码的cq值，或者hevc和h264的对应的视频质量参数，比较大时），仍然很清楚。所以对不同分辨率设置了不同的清晰度目标。最好是下载尽量大的，然后压缩。支持设置fps，之后应该根据常见fps自动设置一下。目前基本上就是fps需要专门设置，例如常见录播是30、60帧，但是也有50、25、24、甚至20、15等，不输入则不会改变帧率。

可以选择在压缩时，顺便删除原视频文件。不过最好有完善的检查机制，有时，空间不够，生成的视频会完全不能看，也就是完全变成垃圾。目前是检查时长足够和检查比特率比原文件小超过阈值才删除原文件。（请注意，有时录播的时候，空间不够或者网络或者主播问题，会导致视频正常播放时间会比播放器显示的总时间短）